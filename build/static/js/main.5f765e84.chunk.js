(this["webpackJsonpadopt-me"]=this["webpackJsonpadopt-me"]||[]).push([[0],{1114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=(a(29),a(2)),i=a(4),u=a(5),s=a(6),m=a(7),d=a(9),h=a.n(d),p=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={photos:[],active:0},e.handleIndexClick=function(t){e.setState({active:+t.target.dataset.index})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.photos,a=e.active;return console.log(this.props),r.a.createElement("div",{className:"carousel"},r.a.createElement("img",{src:t[a],alt:"animal"}),r.a.createElement("div",{className:"carousel-smaller"},t.map((function(e,t){}))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.media,a=["http://placecorgi.com/600/600"];return t.length&&(a=t.map((function(e){return e.large}))),{photos:a}}}]),a}(r.a.Component),v=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(u.a)(a,[{key:"componentDidCatch",value:function(e,t){console.error("ErrorBoundary caught an error",e,t)}},{key:"componentDidUpdate",value:function(){var e=this;this.state.hasError&&setTimeout((function(){return e.setState({redirect:!0})}),2e3)}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(l.b,{to:"/"}):this.state.hasError?r.a.createElement("h1",null,"There was an error with this listing, ",r.a.createElement(l.a,{to:"/"},"Click here")," ","to go back to the home page or wait for five seconds"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),a}(n.Component),E=Object(n.createContext)(["green",function(){}]),f=document.getElementById("modal"),b=function(e){var t=e.children,a=Object(n.useRef)(null);return a.current||(a.current=document.createElement("div")),Object(n.useEffect)((function(){return f.appendChild(a.current),function(){return f.removeChild(a.current)}}),[]),Object(c.createPortal)(r.a.createElement("div",null,t),a.current)},g=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).toggleModal=function(){n.setState({showModal:!n.state.showModal})},n.adopt=function(){Object(l.d)(n.state.url)},n.state={loading:!0,showModal:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.animal(this.props.id).then((function(t){var a=t.animal;e.setState({url:a.url,name:a.name,animal:a.type,location:"".concat(a.contact.address.city,",").concat(a.contact.address.state),description:a.description,media:a.photos,breed:a.breeds.primary,loading:!1},console.error)}))}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement("h1",null,"loading ..");var t=this.state,a=t.animal,n=t.breed,c=t.location,o=t.description,l=t.media,i=t.name,u=t.showModal;return r.a.createElement("div",{className:"details"},r.a.createElement(p,{media:l}),r.a.createElement("div",null,r.a.createElement("h1",null,i),r.a.createElement("h2",null,"".concat(a," - ").concat(n," - ").concat(c)),r.a.createElement(E.Consumer,null,(function(t){return r.a.createElement("button",{onClick:e.toggleModal,style:{backgroundColor:t[0]}},"Adopt ",i)})),r.a.createElement("p",null,o),u?r.a.createElement(b,null,r.a.createElement("h1",null,"Would you really like to adopt ",i," ?"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:this.adopt},"Yes"),r.a.createElement("button",{onClick:this.adopt},"No"))):null))}}]),a}(r.a.Component);function O(e){return r.a.createElement(v,null,r.a.createElement(g,e))}var j=a(12),y=a.n(j),k=a(23),w=a(3);function C(e){var t=e.name,a=e.animal,n=e.breed,c=e.media,o=e.location,i=e.id,u="http://placeorgi.com/300/300";return c.length&&(u=c[0].small),r.a.createElement(l.a,{to:"/details/".concat(i),className:"pet"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:u,alt:t})),r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,t),r.a.createElement("h2",null,"".concat(a," - ").concat(n," - ").concat(o))))}var S=function(e){var t=e.pets;return r.a.createElement("div",{className:"search"},t.length?t.map((function(e){return r.a.createElement(C,{animal:e.type,key:e.id,name:e.name,breed:e.breeds.primary,media:e.photos,location:"".concat(e.contact.address.city,", ").concat(e.contact.address.state),id:e.id})})):r.a.createElement("h1",null,"No Pets Found , Find other pets"))},N=function(e,t,a){var c=Object(n.useState)(t),o=Object(w.a)(c,2),l=o[0],i=o[1],u="use-dropdown-".concat(e.replace(" ","").toLowerCase());return[l,function(){return r.a.createElement("label",{htmlFor:u},e,r.a.createElement("select",{id:u,onChange:function(e){return i(e.target.value)},onBlur:function(e){return i(e.target.value)},value:l,disabled:0===a.length},r.a.createElement("option",null,"All"),a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))},i]},M=function(){var e=Object(n.useState)("Seattle , WA"),t=Object(w.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),l=Object(w.a)(o,2),i=l[0],u=l[1],s=N("Animal","dog",d.ANIMALS),m=Object(w.a)(s,2),p=m[0],v=m[1],f=N("Breed","",i),b=Object(w.a)(f,3),g=b[0],O=b[1],j=b[2],C=Object(n.useState)([]),M=Object(w.a)(C,2),A=M[0],B=M[1],x=Object(n.useContext)(E),F=Object(w.a)(x,2),D=F[0],P=F[1];function I(){return(I=Object(k.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.animals({location:a,breed:g,type:p});case 2:t=e.sent,n=t.animals,B(n||[]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){u([]),j(""),h.a.breeds(p).then((function(e){var t=e.breeds.map((function(e){return e.name}));u(t)}),console.error)}),[p,j,u]),r.a.createElement("div",{className:"search-params"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){I.apply(this,arguments)}()}},r.a.createElement("label",{htmlFor:"location"},"Location",r.a.createElement("input",{id:"location",value:a,placeholder:"Location",onChange:function(e){c(e.target.value)}})),r.a.createElement(v,null),r.a.createElement(O,null),r.a.createElement("label",{htmlFor:"theme"},"Theme",r.a.createElement("select",{value:D,onChange:function(e){return P(e.target.value)},onBlur:function(e){return P(e.target.value)}},r.a.createElement("option",{value:"peru"},"Peru"),r.a.createElement("option",{value:"darkblue"},"Blue"),r.a.createElement("option",{value:"mediumorchid"},"Medium Orchid"))),r.a.createElement("button",{style:{backgroundColor:D}},"Submit")),r.a.createElement(S,{pets:A}))};var A=function(){var e=Object(n.useState)("darkblue");return r.a.createElement(E.Provider,{value:e},r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(l.a,{to:"/"},"Adopt Me!")),r.a.createElement(l.c,null,r.a.createElement(M,{path:"/"}),r.a.createElement(O,{path:"/details/:id"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){e.exports=a(1114)},29:function(e,t,a){}},[[24,1,2]]]);
//# sourceMappingURL=main.5f765e84.chunk.js.map